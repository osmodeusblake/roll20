<button type="roll" name="strengthroll" value="&{template:default} {{name=@{character_name}}} {{stat=Strength}} {{ranks=[[@{ranksquery}]]}} {{proficiency=[[@{profquery}]]}} {{dice=[[{@dicequery}]]}} {{roll0=[[@{roll0}+@{strength}]]}} {{roll1=[[@{roll1}+@{strength}]]}} {{roll2=[[@{roll2}+@{strength}]]}} {{roll3=[[@{roll3}+@{strength}]]}} {{roll4=[[@{roll4}+@{strength}]]}} {{roll5=[[@{roll5}+@{strength}]]}} {{roll6=[[@{roll6}+@{strength}]]}} {{roll7=[[@{roll7}+@{strength}]]}}">Strength</button>

<button type="roll" name="enduranceroll" value="&{template:default} {{name=@{character_name}}} {{stat=Endurance}} {{ranks=[[@{ranksquery}]]}} {{proficiency=[[@{profquery}]]}} {{dice=[[{@dicequery}]]}} {{roll0=[[@{roll0}+@{endurance}]]}} {{roll1=[[@{roll1}+@{endurance}]]}} {{roll2=[[@{roll2}+@{endurance}]]}} {{roll3=[[@{roll3}+@{endurance}]]}} {{roll4=[[@{roll4}+@{endurance}]]}} {{roll5=[[@{roll5}+@{endurance}]]}} {{roll6=[[@{roll6}+@{endurance}]]}} {{roll7=[[@{roll7}+@{endurance}]]}}">Endurance</button>

<button type="roll" name="agilityroll" value="&{template:default} {{name=@{character_name}}} {{stat=Agility}} {{ranks=[[@{ranksquery}]]}} {{proficiency=[[@{profquery}]]}} {{dice=[[{@dicequery}]]}} {{roll0=[[@{roll0}+@{agility}]]}} {{roll1=[[@{roll1}+@{agility}]]}} {{roll2=[[@{roll2}+@{agility}]]}} {{roll3=[[@{roll3}+@{agility}]]}} {{roll4=[[@{roll4}+@{agility}]]}} {{roll5=[[@{roll5}+@{agility}]]}} {{roll6=[[@{roll6}+@{agility}]]}} {{roll7=[[@{roll7}+@{agility}]]}}">Agility</button>

<button type="roll" name="charismaroll" value="&{template:default} {{name=@{character_name}}} {{stat=Charisma}} {{ranks=[[@{ranksquery}]]}} {{proficiency=[[@{profquery}]]}} {{dice=[[{@dicequery}]]}} {{roll0=[[@{roll0}+@{charisma}]]}} {{roll1=[[@{roll1}+@{charisma}]]}} {{roll2=[[@{roll2}+@{charisma}]]}} {{roll3=[[@{roll3}+@{charisma}]]}} {{roll4=[[@{roll4}+@{charisma}]]}} {{roll5=[[@{roll5}+@{charisma}]]}} {{roll6=[[@{roll6}+@{charisma}]]}} {{roll7=[[@{roll7}+@{charisma}]]}}">Charisma</button>

<button type="roll" name="auraroll" value="&{template:default} {{name=@{character_name}}} {{stat=Aura}} {{ranks=[[@{ranksquery}]]}} {{proficiency=[[@{profquery}]]}} {{dice=[[{@dicequery}]]}} {{roll0=[[@{roll0}+@{aura}]]}} {{roll1=[[@{roll1}+@{aura}]]}} {{roll2=[[@{roll2}+@{aura}]]}} {{roll3=[[@{roll3}+@{aura}]]}} {{roll4=[[@{roll4}+@{aura}]]}} {{roll5=[[@{roll5}+@{aura}]]}} {{roll6=[[@{roll6}+@{aura}]]}} {{roll7=[[@{roll7}+@{aura}]]}}">Aura</button>

<button type="roll" name="thoughtroll" value="&{template:default} {{name=@{character_name}}} {{stat=Thought}} {{ranks=[[@{ranksquery}]]}} {{proficiency=[[@{profquery}]]}} {{dice=[[{@dicequery}]]}} {{roll0=[[@{roll0}+@{thought}]]}} {{roll1=[[@{roll1}+@{thought}]]}} {{roll2=[[@{roll2}+@{thought}]]}} {{roll3=[[@{roll3}+@{thought}]]}} {{roll4=[[@{roll4}+@{thought}]]}} {{roll5=[[@{roll5}+@{thought}]]}} {{roll6=[[@{roll6}+@{thought}]]}} {{roll7=[[@{roll7}+@{thought}]]}}">Thought</button>


ranks = -1/1/2
boons = -1/0/1/2/3/4/5/6/7

if ranks < 0 {
    if boons <= 0 {
        {{unskilleddisadvantageroll=[[2d20kl1]]}}
    }

    if boons > 0 {
        {{unskilledroll=[[@{dicequery}+1d20kh1]]}}
    }
}

if ranks > 0 {
    if boons < 0 {
        {{skilleddisadvantageroll=[[2d20kl1+{{ranksquery}}*@{proficiency}]]}}
    }

    if boons >= 0 {
        {{skilledroll=[[@{advantagequery}+1d20kh1+{{ranksquery}}*@{proficiency}]]}}
    }
}

&{template:default}
{{name=D20 Stat Roll}}
{{stat=[[@{statquery}]]}} 
{{ranks=[[@{ranksquery}]]}} 
{{advantage=[[@{advantagequery}]]}} 
{{unskilleddisadvantageroll=[[2d20kl1]]}} 
{{unskilledroll=[[(@{advantagequery})d20kh1]]}} 
{{skilleddisadvantageroll=[[2d20kl1+@{ranksquery}*@{proficiency}]]}} 
{{skilledroll=[[(@{advantagequery}+1)d20kh1+@{ranksquery}*@{proficiency}]]}}

