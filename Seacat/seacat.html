<input type="hidden" name="attr_statroll" value="&{template:seacat} {{name=D20 Stat Roll}} {{stat=[[@{statquery}]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{strengthstat=[[@{strength}]]}} {{endurancestat=[[@{endurance}]]}} {{agilitystat=[[@{agility}]]}} {{charismastat=[[@{charisma}]]}} {{aurastat=[[@{aura}]]}} {{thoughtstat=[[@{thought}]]}} {{unskilleddisadvantageroll=[[2d20kl1]]}} {{unskilledroll=[[(@{advantagequery})d20kh1]]}} {{skilleddisadvantageroll=[[2d20kl1+@{ranksquery}*@{proficiency}]]}} {{skilledroll=[[(@{advantagequery}+1)d20kh1+@{ranksquery}*@{proficiency}]]}}">

<input type="hidden" name="attr_strengthroll" value="&{template:seacat} {{name=D20 Strength Roll}} {{stat=[[100]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{strengthstat=[[@{strength}]]}} {{unskilleddisadvantageroll=[[2d20kl1+@{strength}]]}} {{unskilledroll=[[(@{advantagequery})d20kh1+@{strength}]]}} {{skilleddisadvantageroll=[[2d20kl1+@{strength}+(@{ranksquery}*@{proficiency})]]}} {{skilledroll=[[(@{advantagequery}+1)d20kh1+@{strength}+(@{ranksquery}*@{proficiency})]]}}">

<input type="hidden" name="attr_enduranceroll" value="&{template:seacat} {{name=D20 Endurance Roll}} {{stat=[[200]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{endurancestat=[[@{endurance}]]}} {{unskilleddisadvantageroll=[[2d20kl1+@{endurance}]]}} {{unskilledroll=[[(@{advantagequery})d20kh1+@{endurance}]]}} {{skilleddisadvantageroll=[[2d20kl1+@{endurance}+(@{ranksquery}*@{proficiency})]]}} {{skilledroll=[[(@{advantagequery}+1)d20kh1+@{endurance}+(@{ranksquery}*@{proficiency})]]}}">

<input type="hidden" name="attr_agilityroll" value="&{template:seacat} {{name=D20 Agility Roll}} {{stat=[[300]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{agilitystat=[[@{agility}]]}} {{unskilleddisadvantageroll=[[2d20kl1+@{agility}]]}} {{unskilledroll=[[(@{advantagequery})d20kh1+@{agility}]]}} {{skilleddisadvantageroll=[[2d20kl1+@{agility}+(@{ranksquery}*@{proficiency})]]}} {{skilledroll=[[(@{advantagequery}+1)d20kh1+@{agility}+(@{ranksquery}*@{proficiency})]]}}">

<input type="hidden" name="attr_charismaroll" value="&{template:seacat} {{name=D20 Charisma Roll}} {{stat=[[400]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{charismastat=[[@{charisma}]]}} {{unskilleddisadvantageroll=[[2d20kl1+@{charisma}]]}} {{unskilledroll=[[(@{advantagequery})d20kh1+@{charisma}]]}} {{skilleddisadvantageroll=[[2d20kl1+@{charisma}+(@{ranksquery}*@{proficiency})]]}} {{skilledroll=[[(@{advantagequery}+1)d20kh1+@{charisma}+(@{ranksquery}*@{proficiency})]]}}">

<input type="hidden" name="attr_auraroll" value="&{template:seacat} {{name=D20 Aura Roll}} {{stat=[[500]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{aurastat=[[@{aura}]]}} {{unskilleddisadvantageroll=[[2d20kl1+@{aura}]]}} {{unskilledroll=[[(@{advantagequery})d20kh1+@{aura}]]}} {{skilleddisadvantageroll=[[2d20kl1+@{aura}+(@{ranksquery}*@{proficiency})]]}} {{skilledroll=[[(@{advantagequery}+1)d20kh1+@{aura}+(@{ranksquery}*@{proficiency})]]}}">

<input type="hidden" name="attr_thoughtroll" value="&{template:seacat} {{name=D20 Thought Roll}} {{stat=[[600]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{thoughtstat=[[@{thought}]]}} {{unskilleddisadvantageroll=[[2d20kl1+@{thought}]]}} {{unskilledroll=[[(@{advantagequery})d20kh1+@{thought}]]}} {{skilleddisadvantageroll=[[2d20kl1+@{thought}+(@{ranksquery}*@{proficiency})]]}} {{skilledroll=[[(@{advantagequery}+1)d20kh1+@{thought}+(@{ranksquery}*@{proficiency})]]}}">


<input type="hidden" name="attr_statquery" value="?{Stat|Strength,100|Endurance,200|Agility,300|Charisma,400|Aura,500|Thought,600}">
<input type="hidden" name="attr_advantagequery" value="?{Advantages|0|1|2|3|4|5|6|7|-1}">
<input type="hidden" name="attr_ranksquery" value="?{Skill ranks|Unskilled (0),-1|Skilled (1),1|Expert (2+),2}">

<rolltemplate class="sheet-rolltemplate-seacat">
	<br> 
	<div>
		<table>
			<tr>
				{{#rollTotal() stat 100}}
				<caption>Strength Roll</caption>
				{{/rollTotal() stat 100}}
				{{#rollTotal() stat 200}}
				<caption>Endurance Roll</caption>
				{{/rollTotal() stat 200}}
				{{#rollTotal() stat 300}}
				<caption>Agility Roll</caption>
				{{/rollTotal() stat 300}}
			</tr>

			<tr><td>Boons & Banes:</td><td>{{advantage}}</td></tr>

			{{#rollLess() ranks 0}}
				<tr><td>Skill Level:</td><td>Unskilled</td></tr>
				{{#rollLess() advantage 1}}
				<tr><td>Result:</td><td>{{unskilleddisadvantageroll}}</td></tr>
				{{/rollLess() advantage 1}}
				{{#rollGreater() advantage 0}}
				<tr><td>Result:</td><td>{{unskilledroll}}</td></tr>
				{{/rollGreater() advantage 0}}
			{{/rollLess() ranks 0}}

			{{#rollTotal() ranks 1}}
				<tr><td>Skill Level:</td><td>Unskilled</td></tr>
				{{#rollLess() advantage 0}}
				<tr></tr><td>Result:</td><td>{{skilleddisadvantageroll}}</td></tr>
				{{/rollLess() advantage 0}}
				{{#rollTotal() advantage 0}}
				<tr><td>Result:</td><td>{{unskilledroll}}</td></tr>
				{{/rollTotal() advantage 0}}
				{{#rollGreater() advantage 0}}
				<tr><td>Result:</td><td>{{unskilledroll}}</td></tr>
				{{/rollGreater() advantage 0}}
			{{/rollTotal() ranks 1}}

			{{#rollTotal() ranks 2}}
				<tr><td>Skill Level:</td><td>Unskilled</td></tr>
				{{#rollLess() advantage 0}}
				<tr></tr><td>Result:</td><td>{{skilleddisadvantageroll}}</td></tr>
				{{/rollLess() advantage 0}}
				{{#rollTotal() advantage 0}}
				<tr><td>Result:</td><td>{{unskilledroll}}</td></tr>
				{{/rollTotal() advantage 0}}
				{{#rollGreater() advantage 0}}
				<tr><td>Result:</td><td>{{unskilledroll}}</td></tr>
				{{/rollGreater() advantage 0}}
			{{/rollTotal() ranks 2}}
		</table>
	</div>
</rolltemplate>

<div></div>
	<div class="gridcontainer">
		<div class="row0">
			<div class="field hero">
				<label class="labelh1">HERO:</label>
				<input type="text" name="attr_hero" tabindex=1>
			</div>
		</div>
		<div class="row1">
			<div class="info">
				<div class="infobox">
					<div class="info1">
						<div class="field">&nbsp;</div>
						<div class="field">
							<label>Name:</label>
							<input type="text" name="attr_character_name" tabindex=1>
						</div>
						<div class="field">
							<label>Friends:</label>
							<input type="text" name="attr_friends" tabindex=2>
						</div>
						<div class="field">
							<label>Enemies:</label>
							<input type="text" name="attr_enemies"tabindex=2>
						</div>
						<div class="field">
							<label>Title:</label>
							<input type="text" name="attr_title" tabindex=3>
						</div>
						<div class="field">&nbsp;</div>
						<div class="field">
							<label class="labelh1">EXPERIENCE:</label>
							<input type="number"  name="attr_experience" tabindex=8>
						</div>
						<div class="field">
							<label>Invested:</label>
							<input type="number"  name="attr_invested" tabindex=9>
						</div>
					</div>
					<div class="info2">
						<div class="field">&nbsp;</div>
						<div class="field">
							<label>Species:</label>
							<input type="text" name="attr_species" tabindex=4>
						</div>
						<div class="field">
							<label>Looks:</label>
							<input type="text" name="attr_looks" tabindex=5>
						</div>
						<div class="field">
							<label>Debt:</label>
							<input type="text" name="attr_debt" tabindex=6>
						</div>
						<div class="field">
							<label>Likes:</label>
							<input type="text" name="attr_likes" tabindex=7>
						</div>
						<div class="field">&nbsp;</div>
						<div class="field">
							<label class="labelh1">LEVEL:</label>
							<input type="number"  name="attr_level" tabindex=10>
						</div>
						<div class="field">&nbsp;</div>
					</div>
				</div>
			</div>
			<div class="skills">
				<div class="field">
					<label class="labelh1">SKILLS</label>
				</div>
				<div class="field">
					<label for="attr_skill1">1.</label>
					<input type="text" name="attr_skill1">
				</div>
				<div class="field">
					<label for="attr_skill2">2.</label>
					<input type="text" name="attr_skill2">
				</div>
				<div class="field">
					<label for="attr_skill3">3.</label>
					<input type="text" name="attr_skill3">
				</div>
				<div class="field">
					<label for="attr_skill4">4.</label>
					<input type="text" name="attr_skill4">
				</div>
				<div class="field">
					<label for="attr_skill5">5.</label>
					<input type="text" name="attr_skill5">
				</div>
				<div class="field">
					<label for="attr_skill6">6.</label>
					<input type="text" name="attr_skill6">
				</div>
				<div class="field">&nbsp;</div>
			</div>
			<div class="abilities">
				<div class="field">
					<label class="labelh1">ABILITIES</label>
				</div>
				<div class="field">
					<label for="attr_ability1">1.</label>
					<input type="text" name="attr_ability1">
				</div>
				<div class="field">
					<label for="attr_ability2">2.</label>
					<input type="text" name="attr_ability2">
				</div>
				<div class="field">
					<label for="attr_ability3">3.</label>
					<input type="text" name="attr_ability3">
				</div>
				<div class="field">
					<label for="attr_ability4">4.</label>
					<input type="text" name="attr_ability4">
				</div>
				<div class="field">
					<label for="attr_ability5">5.</label>
					<input type="text" name="attr_ability5">
				</div>
				<div class="field">
					<label for="attr_ability6">6.</label>
					<input type="text" name="attr_ability6">
				</div>
				<div class="field">&nbsp;</div>
			</div>
		</div>
		<div class="row2">
			<div class="statbox">
				<div class="stat">
					<div class="statfields">
						<div class="statbig">
							<input type="number" name="attr_strength" value="0">
						</div>
						<div class="statsmall">
							OF <input type="number" name="attr_strength_max" value="0">
						</div>
					</div>
					<div class="statlabel">
						<button class="sheet-blankrollbutton" type="action" name="act_reducestrength">-</button>
						<button class="sheet-blankrollbutton" type="roll" value="@{strengthroll}" name="rollstrength">STR</button>
						<button class="sheet-blankrollbutton" type="action" name="act_increasestrength">+</button>
					</div>
				</div>
				<div class="stat">
					<div class="statfields">
						<div class="statbig">
							<input type="number"name="attr_endurance" value="0">
						</div>
						<div class="statsmall">
							OF <input type="number" name="attr_endurance_max" value="0">
						</div>
					</div>
					<div class="statlabel">
						<button class="sheet-blankrollbutton" type="action" name="act_reduceendurance">-</button>
						<button class="sheet-blankrollbutton" type="roll" value="@{enduranceroll}" name="rollendurance">END</button>
						<button class="sheet-blankrollbutton" type="action" name="act_increaseendurance">+</button>
					</div>
				</div>
				<div class="stat">
					<div class="statfields">
						<div class="statbig">
							<input type="number"name="attr_agility" value="0">
						</div>
						<div class="statsmall">
							OF <input type="number" name="attr_agility_max" value="0">
						</div>
					</div>
					<div class="statlabel">
						<button class="sheet-blankrollbutton" type="action" name="act_reduceagility">-</button>
						<button class="sheet-blankrollbutton" type="roll" value="@{agilityroll}" name="rollagility">AGI</button>
						<button class="sheet-blankrollbutton" type="action" name="act_increaseagility">+</button>
					</div>
				</div>
				<div class="stat">
					<div class="statfieldsprof">
						<div class="statprof">
							<input type="number"name="attr_proficiency" value="0">
						</div>
					</div>
					<div class="statlabel">
						<button class="sheet-blankrollbutton proficiencybutton" type="roll" value="@{statroll}" name="rollproficiency">PRO</button>
					</div>				
				</div>
				<div class="stat">
					<div class="statfields">
						<div class="statbig">
							<input type="number"name="attr_charisma" value="0">
						</div>
						<div class="statsmall">
							OF <input type="number" name="attr_charisma_max" value="0">
						</div>
					</div>
					<div class="statlabel">
						<button class="sheet-blankrollbutton" type="action" name="act_reducecharisma">-</button>
						<button class="sheet-blankrollbutton" type="roll" value="@{charismaroll}" name="rollcharisma">CHA</button>
						<button class="sheet-blankrollbutton" type="action" name="act_increasecharisma">+</button>
					</div>
				</div>
				<div class="stat">
					<div class="statfields">
						<div class="statbig">
							<input type="number"name="attr_aura" value="0">
						</div>
						<div class="statsmall">
							OF <input type="number" name="attr_aura_max" value="0">
						</div>
					</div>
					<div class="statlabel">
						<button class="sheet-blankrollbutton" type="action" name="act_reduceaura">-</button>
						<button class="sheet-blankrollbutton" type="roll" value="@{auraroll}" name="rollaura">AUR</button>
						<button class="sheet-blankrollbutton" type="action" name="act_increaseaura">+</button>
					</div>
				</div>
				<div class="stat">
					<div class="statfields">
						<div class="statbig">
							<input type="number"name="attr_thought" value="0">
						</div>
						<div class="statsmall">
							OF <input type="number" name="attr_thought_max" value="0">
						</div>
					</div>
					<div class="statlabel">
						<button class="sheet-blankrollbutton" type="action" name="act_reducethought">-</button>
						<button class="sheet-blankrollbutton" type="roll" value="@{thoughtroll}" name="rollthought">THO</button>
						<button class="sheet-blankrollbutton" type="action" name="act_increasethought">+</button>
					</div>
				</div>
			</div>
			<div class="lifebox">
				<div class="field">
					<label class="labelh1">LIFE:</label>
					<input type="number" name="attr_life">
				</div>
				<div class="field">
					<label>Remaining:</label>
					<input type="number" name="attr_life_max">
				</div>
			</div>
		</div>
		<div class="row3">
			<div class="gearbox">
				<div class="gear1">
					<div class="field">
						<label class="labelh1">GEAR</label>
					</div>
					<div class="field">
						<label for="gear1item1">1.</label>
						<input type="text" name="attr_gear1item1">
					</div>
					<div class="field">
						<label for="gear1item2">2.</label>
						<input type="text" name="attr_gear1item2">
					</div>
					<div class="field">
						<label for="gear1item3">3.</label>
						<input type="text" name="attr_gear1item3">
					</div>
					<div class="field">
						<label for="gear1item4">4.</label>
						<input type="text" name="attr_gear1item4">
					</div>
					<div class="field">
						<label for="gear1item5">5.</label>
						<input type="text" name="attr_gear1item5">
					</div>
					<div class="field">
						<label for="gear1item6">6.</label>
						<input type="text" name="attr_gear1item6">
					</div>
				</div>
				<div class="gear2">
					<div class="field">
						<label class="labelh1">CUMBERSOME GEAR</label>
					</div>
					<div class="field">
						<label for="gear2item1">1.</label>
						<input type="text" name="attr_gear2item1">
					</div>
					<div class="field">
						<label for="gear2item2">2.</label>
						<input type="text" name="attr_gear2item2">
					</div>
					<div class="field">
						<label for="gear2item3">3.</label>
						<input type="text" name="attr_gear2item3">
					</div>
					<div class="field">
						<label for="gear2item4">4.</label>
						<input type="text" name="attr_gear2item4">
					</div>
					<div class="field">
						<label for="gear2item5">5.</label>
						<input type="text" name="attr_gear2item5">
					</div>
					<div class="field">
						<label for="gear2item6">6.</label>
						<input type="text" name="attr_gear2item6">
					</div>
				</div>
			</div>
			<div class="diceandhurtbox">
				<div class="dicebox">
					<div class="stat">
						<div class="statfields">
								<input type="number" name="attr_magiccost" value="2">
						</div>
						<div class="statlabel">
							<button class="sheet-blankrollbutton" type="action" name="act_reducemagiccost">-</button>
							<div class="sheet-diceboxlabel">MAGIC COST</div>
							<button class="sheet-blankrollbutton" type="action" name="act_increasemagiccost">+</button>
						</div>
					</div>
					<div class="stat">
						<div class="statfields">
								<input type="number" name="attr_herodice" value="0">
								<span>OF</span>
								<input type="number" name="attr_herodice_max" value="0">
						</div>
						<div class="statlabel">
							<button class="sheet-blankrollbutton" type="action" name="act_reduceherodice">-</button>
							<div class="sheet-diceboxlabel">HERO DICE</div>
							<button class="sheet-blankrollbutton" type="action" name="act_increaseherodice">+</button>
						</div>
					</div>
				</div>
				<div class="hurtbox">
					<div class="field">
						<label class="labelh1">HURT:</label>
					</div>
				</div>
			</div>
		</div>
		<div class="row4">
			<div class="mode1">
				<div class="field">
					<label class="labelh1">ATTACK MODES</label>
				</div>
				<div class="field">
						<label class="labelh2">Method:</label>
					<input type="text" name="attr_Method1">
				</div>
				<div class="field">
					<label for="Damage1">Damage:</label>
					<input type="text" name="attr_Damage1">
				</div>
				<div class="field">
					<label for="Range1">Range:</label>
					<input type="text" name="attr_Range1">
				</div>
				<div class="field">
					<label for="Tags1">Tags:</label>
					<input type="text" name="attr_Tags1">
				</div>
			</div>
			<div class="mode2">
				<div class="field">&nbsp;</div>
				<div class="field">
					<label class="labelh2">Method:</label>
					<input type="text" name="attr_Method2">
				</div>
				<div class="field">
					<label for="Damage1">Damage:</label>
					<input type="text" name="attr_Damage2">
				</div>
				<div class="field">
					<label for="Range1">Range:</label>
					<input type="text" name="attr_Range2">
				</div>
				<div class="field">
					<label for="Tags1">Tags:</label>
					<input type="text" name="attr_Tags2">
				</div>
			</div>
			<div class="mode3">
				<div class="field">&nbsp;</div>
				<div class="field">
					<label class="labelh2">Method:</label>
					<input type="text" name="attr_Method3">
				</div>
				<div class="field">
					<label for="Damage1">Damage:</label>
					<input type="text" name="attr_Damage3">
				</div>
				<div class="field">
					<label for="Range1">Range:</label>
					<input type="text" name="attr_Range3">
				</div>
				<div class="field">
					<label for="Tags1">Tags:</label>
					<input type="text" name="attr_Tags3">
				</div>
			</div>
			<div class="physicalcombat">
				<div class="field">
					<label class="labelh1">COMBAT</label>
				</div>
				<div class="field">
					<label class="labelh2">Physical</label>
				</div>
				<div class="field">
					<label>Defense:</label>
					<input type="text" name="attr_defense">
				</div>
				<div class="field">
					<label>Range Attack:</label>
					<input type="text" name="attr_rangeattack">
				</div>
				<div class="field">
					<label>Melee Attack:</label>
					<input type="text" name="attr_meleeattack">
				</div>
			</div>
		</div>
		<div class="row5">
			<div class="petcolumn1">
				<div class="field">
					<label class="labelh1">SIDEKICK/PET</label>
				</div>
				<div class="field">
					<label>Name:</label>
					<input type="text" name="attr_PetName">
				</div>
				<div class="field">
					<label>Invested XP:</label>
					<input type="text" name="attr_PetInvestedXP">
				</div>
				<div class="field">
					<label>Level:</label>
					<input type="text" name="attr_PetLevel">
				</div>
			</div>
			<div class="petcolumn2">
				<div class="field">&nbsp;</div>
				<div class="field">
					<label>Defense:</label>
					<input type="text" name="attr_PetDefense">
				</div>
				<div class="field">
					<label>Sum:</label>
					<input type="text" name="attr_PetSum">
				</div>
				<div class="field">
					<label>Life:</label>
					<input type="text" name="attr_PetLife">
				</div>			
			</div>
			<div class="petcolumn3">
				<div class="field">&nbsp;</div>
				<div class="field">
					<label for="PetAbility1">Ability:</label>
					<input type="text" name="attr_PetAbility1">
				</div>
				<div class="field">
					<label for="PetAbility2">Ability:</label>
					<input type="text" name="attr_PetAbility2">
				</div>	
				<div class="field">
					<label for="PetAbility3">Ability:</label>
					<input type="text" name="attr_PetAbility3">
				</div>	
			</div>
			<div class="metaphysicalcombat">
				<div class="field">
					<label class="labelh2">Metaphysical</label>
				</div>
				<div class="field">
					<label>Warding:</label>
					<input type="text" name="attr_warding">
				</div>
				<div class="field">
					<label>Magic Attack:</label>
					<input type="text" name="attr_magicattack">
				</div>
				<div class="field">
					<label>Social Attack:</label>
					<input type="text" name="attr_socialattack">
				</div>
			</div>
		</div>
		<div class="row6">
			<div class="field">
				<div class="heading">
					<label class="labelh1">OTHER THINGS</label>
				</div>
			</div>
		</div>
		<div class="row7">
			<div class="notes">
				<div class="notes1">
					<textarea name="attr_notes1"></textarea>
				</div>
				<div class="notes2">
					<textarea name="attr_notes2"></textarea>
				</div>
				<div class="notes3">
					<textarea name="attr_notes3"></textarea>
				</div>
				<div class="notes4">
					<textarea name="attr_notes4"></textarea>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Macros -->

<input type="hidden" name="attr_statroll" value="&{template:seacat} {{name=D20 Stat Roll}} {{stat=[[@{statquery}]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{strengthstat=[[@{strength}]]}} {{endurancestat=[[@{endurance}]]}} {{agilitystat=[[@{agility}]]}} {{charismastat=[[@{charisma}]]}} {{aurastat=[[@{aura}]]}} {{thoughtstat=[[@{thought}]]}} {{strbane=[[2d20kl1]]}} {{str=[[(@{advantagequery})d20kh1]]}} {{strprofbane=[[2d20kl1+@{ranksquery}*@{proficiency}]]}} {{strprof=[[(@{advantagequery}+1)d20kh1+@{ranksquery}*@{proficiency}]]}} {{endbane=[[2d20kl1]]}} {{end=[[(@{advantagequery})d20kh1]]}} {{endprofbane=[[2d20kl1+@{ranksquery}*@{proficiency}]]}} {{endprof=[[(@{advantagequery}+1)d20kh1+@{ranksquery}*@{proficiency}]]}} {{agibane=[[2d20kl1]]}} {{agi=[[(@{advantagequery})d20kh1]]}} {{agiprofbane=[[2d20kl1+@{ranksquery}*@{proficiency}]]}} {{agiprof=[[(@{advantagequery}+1)d20kh1+@{ranksquery}*@{proficiency}]]}} {{chabane=[[2d20kl1]]}} {{cha=[[(@{advantagequery})d20kh1]]}} {{chaprofbane=[[2d20kl1+@{ranksquery}*@{proficiency}]]}} {{chaprof=[[(@{advantagequery}+1)d20kh1+@{ranksquery}*@{proficiency}]]}} {{aurbane=[[2d20kl1]]}} {{aur=[[(@{advantagequery})d20kh1]]}} {{aurprofbane=[[2d20kl1+@{ranksquery}*@{proficiency}]]}} {{aurprof=[[(@{advantagequery}+1)d20kh1+@{ranksquery}*@{proficiency}]]}} {{thobane=[[2d20kl1]]}} {{tho=[[(@{advantagequery})d20kh1]]}} {{thoprofbane=[[2d20kl1+@{ranksquery}*@{proficiency}]]}} {{thoprof=[[(@{advantagequery}+1)d20kh1+@{ranksquery}*@{proficiency}]]}}">

<input type="hidden" name="attr_strengthroll" value="&{template:seacat} {{name=D20 Strength Roll}} {{stat=[[100]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{strengthstat=[[@{strength}]]}} {{strbane=[[2d20kl1+@{strength}]]}} {{str=[[(@{advantagequery})d20kh1+@{strength}]]}} {{strprofbane=[[2d20kl1+@{strength}+(@{ranksquery}*@{proficiency})]]}} {{strprof=[[(@{advantagequery}+1)d20kh1+@{strength}+(@{ranksquery}*@{proficiency})]]}}">

<input type="hidden" name="attr_enduranceroll" value="&{template:seacat} {{name=D20 Endurance Roll}} {{stat=[[200]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{endurancestat=[[@{endurance}]]}} {{endbane=[[2d20kl1+@{endurance}]]}} {{end=[[(@{advantagequery})d20kh1+@{endurance}]]}} {{endprofbane=[[2d20kl1+@{endurance}+(@{ranksquery}*@{proficiency})]]}} {{endprof=[[(@{advantagequery}+1)d20kh1+@{endurance}+(@{ranksquery}*@{proficiency})]]}}">

<input type="hidden" name="attr_agilityroll" value="&{template:seacat} {{name=D20 Agility Roll}} {{stat=[[300]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{agilitystat=[[@{agility}]]}} {{agibane=[[2d20kl1+@{agility}]]}} {{agi=[[(@{advantagequery})d20kh1+@{agility}]]}} {{agiprofbane=[[2d20kl1+@{agility}+(@{ranksquery}*@{proficiency})]]}} {{agiprof=[[(@{advantagequery}+1)d20kh1+@{agility}+(@{ranksquery}*@{proficiency})]]}}">

<input type="hidden" name="attr_charismaroll" value="&{template:seacat} {{name=D20 Charisma Roll}} {{stat=[[400]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{charismastat=[[@{charisma}]]}} {{chabane=[[2d20kl1+@{charisma}]]}} {{cha=[[(@{advantagequery})d20kh1+@{charisma}]]}} {{chaprofbane=[[2d20kl1+@{charisma}+(@{ranksquery}*@{proficiency})]]}} {{chaprof=[[(@{advantagequery}+1)d20kh1+@{charisma}+(@{ranksquery}*@{proficiency})]]}}">

<input type="hidden" name="attr_auraroll" value="&{template:seacat} {{name=D20 Aura Roll}} {{stat=[[500]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{aurastat=[[@{aura}]]}} {{aurbane=[[2d20kl1+@{aura}]]}} {{aur=[[(@{advantagequery})d20kh1+@{aura}]]}} {{aurprofbane=[[2d20kl1+@{aura}+(@{ranksquery}*@{proficiency})]]}} {{aurprof=[[(@{advantagequery}+1)d20kh1+@{aura}+(@{ranksquery}*@{proficiency})]]}}">

<input type="hidden" name="attr_thoughtroll" value="&{template:seacat} {{name=D20 Thought Roll}} {{stat=[[600]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{thoughtstat=[[@{thought}]]}} {{thobane=[[2d20kl1+@{thought}]]}} {{tho=[[(@{advantagequery})d20kh1+@{thought}]]}} {{thoprofbane=[[2d20kl1+@{thought}+(@{ranksquery}*@{proficiency})]]}} {{thoprof=[[(@{advantagequery}+1)d20kh1+@{thought}+(@{ranksquery}*@{proficiency})]]}}">

<input type="hidden" name="attr_statquery" value="?{Stat|Strength,100|Endurance,200|Agility,300|Charisma,400|Aura,500|Thought,600}">
<input type="hidden" name="attr_advantagequery" value="?{Advantages|0|1|2|3|4|5|6|7|-1}">
<input type="hidden" name="attr_ranksquery" value="?{Skill ranks|Unskilled (0),-1|Skilled (1),1|Expert (2+),2}">

<!-- Roll Templates -->

<rolltemplate class="sheet-rolltemplate-seacat">
	<br> 
	<div>
		<table>
			<tr>
				{{#rollTotal() stat 100}}
				<caption>Strength Roll</caption>
				<tr><td>Strength</td><td>{{strengthstat}}</td></tr>
				{{/rollTotal() stat 100}}

				{{#rollTotal() stat 200}}
				<caption>Endurance Roll</caption>
				<tr><td>Endurance</td><td>{{endurancestat}}</td></tr>
				{{/rollTotal() stat 200}}

				{{#rollTotal() stat 300}}
				<caption>Agility Roll</caption>
				<tr><td>Agility</td><td>{{agilitystat}}</td></tr>
				{{/rollTotal() stat 300}}

				{{#rollTotal() stat 400}}
				<caption>Charisma Roll</caption>
				<tr><td>Charisma</td><td>{{charismastat}}</td></tr>
				{{/rollTotal() stat 400}}

				{{#rollTotal() stat 500}}
				<caption>Aura Roll</caption>
				<tr><td>Aura:</td><td>{{aurastat}}</td></tr>
				{{/rollTotal() stat 500}}

				{{#rollTotal() stat 600}}
				<caption>Thought Roll</caption>
				<tr><td>Thought</td><td>{{thoughtstat}}</td></tr>
				{{/rollTotal() stat 600}}
			</tr>

			{{#rollLess() ranks 0}}
				<tr><td>Skill Level</td><td>Unskilled</td></tr>
				<tr><td>Boons & Banes</td><td>{{advantage}}</td></tr>
				{{#rollLess() advantage 1}}
				<tr>
					{{#rollTotal() stat 100}}
					<tr><td>Result</td><td>{{strbane}}</td></tr>
					{{/rollTotal() stat 100}}
	
					{{#rollTotal() stat 200}}
					<tr><td>Result</td><td>{{endbane}}</td></tr>
					{{/rollTotal() stat 200}}
	
					{{#rollTotal() stat 300}}
					<tr><td>Result</td><td>{{agibane}}</td></tr>
					{{/rollTotal() stat 300}}
	
					{{#rollTotal() stat 400}}
					<tr><td>Result</td><td>{{chabane}}</td></tr>
					{{/rollTotal() stat 400}}
	
					{{#rollTotal() stat 500}}
					<tr><td>Result</td><td>{{aurbane}}</td></tr>
					{{/rollTotal() stat 500}}
	
					{{#rollTotal() stat 600}}
					<tr><td>Result</td><td>{{thobane}}</td></tr>
					{{/rollTotal() stat 600}}
				</tr>
				{{/rollLess() advantage 1}}
				{{#rollGreater() advantage 0}}
				<tr>
					{{#rollTotal() stat 100}}
					<tr><td>Result</td><td>{{str}}</td></tr>
					{{/rollTotal() stat 100}}
	
					{{#rollTotal() stat 200}}
					<tr><td>Result</td><td>{{end}}</td></tr>
					{{/rollTotal() stat 200}}
	
					{{#rollTotal() stat 300}}
					<tr><td>Result</td><td>{{agi}}</td></tr>
					{{/rollTotal() stat 300}}
	
					{{#rollTotal() stat 400}}
					<tr><td>Result</td><td>{{cha}}</td></tr>
					{{/rollTotal() stat 400}}
	
					{{#rollTotal() stat 500}}
					<tr><td>Result</td><td>{{aur}}</td></tr>
					{{/rollTotal() stat 500}}
	
					{{#rollTotal() stat 600}}
					<tr><td>Result</td><td>{{tho}}</td></tr>
					{{/rollTotal() stat 600}}
				</tr>
				{{/rollGreater() advantage 0}}
			{{/rollLess() ranks 0}}

			{{#rollGreater() ranks 0}}
				{{#rollTotal() ranks 1}}
					<tr><td>Skill Level</td><td>Skilled/Professional</td></tr>
				{{/rollTotal() ranks 1}}

				{{#rollTotal() ranks 2}}
					<tr><td>Skill Level</td><td>Expert</td></tr>
				{{/rollTotal() ranks 2}}

				<tr><td>Boons & Banes</td><td>{{advantage}}</td></tr>
				{{#rollLess() advantage 0}}
					<tr>
						{{#rollTotal() stat 100}}
						<tr><td>Result</td><td>{{strprofbane}}</td></tr>
						{{/rollTotal() stat 100}}
		
						{{#rollTotal() stat 200}}
						<tr><td>Result</td><td>{{endprofbane}}</td></tr>
						{{/rollTotal() stat 200}}
		
						{{#rollTotal() stat 300}}
						<tr><td>Result</td><td>{{agiprofbane}}</td></tr>
						{{/rollTotal() stat 300}}
		
						{{#rollTotal() stat 400}}
						<tr><td>Result</td><td>{{chaprofbane}}</td></tr>
						{{/rollTotal() stat 400}}
		
						{{#rollTotal() stat 500}}
						<tr><td>Result</td><td>{{aurprofbane}}</td></tr>
						{{/rollTotal() stat 500}}
		
						{{#rollTotal() stat 600}}
						<tr><td>Result</td><td>{{thoprofbane}}</td></tr>
						{{/rollTotal() stat 600}}
					</tr>
				{{/rollLess() advantage 0}}

				{{#rollGreater() advantage -1}}
					<tr>
						{{#rollTotal() stat 100}}
						<tr><td>Result</td><td>{{strprof}}</td></tr>
						{{/rollTotal() stat 100}}
		
						{{#rollTotal() stat 200}}
						<tr><td>Result</td><td>{{endprof}}</td></tr>
						{{/rollTotal() stat 200}}
		
						{{#rollTotal() stat 300}}
						<tr><td>Result</td><td>{{agiprof}}</td></tr>
						{{/rollTotal() stat 300}}
		
						{{#rollTotal() stat 400}}
						<tr><td>Result</td><td>{{chaprof}}</td></tr>
						{{/rollTotal() stat 400}}
		
						{{#rollTotal() stat 500}}
						<tr><td>Result</td><td>{{aurprof}}</td></tr>
						{{/rollTotal() stat 500}}
		
						{{#rollTotal() stat 600}}
						<tr><td>Result</td><td>{{thoprof}}</td></tr>
						{{/rollTotal() stat 600}}
					</tr>
				{{/rollGreater() advantage -1}}
			{{/rollGreater() ranks 0}}
		</table>
	</div>
</rolltemplate>


<!-- Sheet Workers -->

<script type="text/worker">

	on('clicked:reducestrength', function() {
		getAttrs(['strength'], function(values) {
			const strength = +values.strength || 0; 
			const newstrength = strength -1;
			setAttrs({
			   strength: newstrength 
			});
	   });
	});

	on('clicked:increasestrength', function() {
		getAttrs(['strength'], function(values) {
			const strength = +values.strength || 0; 
			const newstrength = strength +1;
			setAttrs({
			   strength: newstrength 
			});
	   });
	});
	
	on('clicked:reduceendurance', function() {
		getAttrs(['endurance'], function(values) {
			const endurance = +values.endurance || 0; 
			const newendurance = endurance -1;
			setAttrs({
				endurance: newendurance
			});
	   });
	});

	on('clicked:increaseendurance', function() {
		getAttrs(['endurance'], function(values) {
			const endurance = +values.endurance || 0; 
			const newendurance = endurance +1;
			setAttrs({
				endurance: newendurance
			});
	   });
	});

	on('clicked:reduceagility', function() {
		getAttrs(['agility'], function(values) {
			const agility = +values.agility || 0; 
			const newagility = agility -1;
			setAttrs({
				agility: newagility
			});
	   });
	});

	on('clicked:increaseagility', function() {
		getAttrs(['agility'], function(values) {
			const agility = +values.agility || 0; 
			const newagility = agility +1;
			setAttrs({
				agility: newagility
			});
	   });
	});

	on('clicked:reducecharisma', function() {
		getAttrs(['charisma'], function(values) {
			const charisma = +values.charisma || 0; 
			const newcharisma = charisma -1;
			setAttrs({
			   charisma: newcharisma 
			});
	   });
	});

	on('clicked:increasecharisma', function() {
		getAttrs(['charisma'], function(values) {
			const charisma = +values.charisma || 0; 
			const newcharisma = charisma +1;
			setAttrs({
			   charisma: newcharisma 
			});
	   });
	});

	on('clicked:reduceaura', function() {
		getAttrs(['aura'], function(values) {
			const aura = +values.aura || 0; 
			const newaura = aura -1;
			setAttrs({
			   aura: newaura 
			});
	   });
	});

	on('clicked:increaseaura', function() {
		getAttrs(['aura'], function(values) {
			const aura = +values.aura || 0; 
			const newaura = aura +1;
			setAttrs({
			   aura: newaura 
			});
	   });
	});

	on('clicked:reducethought', function() {
		getAttrs(['thought'], function(values) {
			const thought = +values.thought || 0; 
			const newthought = thought -1;
			setAttrs({
			   thought: newthought 
			});
	   });
	});

	on('clicked:increasethought', function() {
		getAttrs(['thought'], function(values) {
			const thought = +values.thought || 0; 
			const newthought = thought +1;
			setAttrs({
			   thought: newthought 
			});
	   });
	});

</script>