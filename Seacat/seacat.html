<input type='hidden' class='sheet-sheettoggle' name='attr_sheetTab' value='hero'>

<div class="herosheet">
	<div class="gridcontainer">
		<div class="row1">
			<div class="info">
				<div class="field hero">
					<label class="labelh1">NAME:</label>
					<input type="text" name="attr_character_name" tabindex=1>
				</div>
				<div class="infobox">
					<div class="info1">
						<div class="field">
							<label>Archetype:</label>
							<input type="text" name="attr_archetype" tabindex=1>
						</div>
						<div class="field">
							<label>Friends:</label>
							<input type="text" name="attr_friends" tabindex=2>
						</div>
						<div class="field">
							<label>Enemies:</label>
							<input type="text" name="attr_enemies"tabindex=2>
						</div>
						<div class="field">
							<label>Title:</label>
							<input type="text" name="attr_title" tabindex=3>
						</div>
						<div class="field">
							<label>Species:</label>
							<input type="text" name="attr_species" tabindex=4>
						</div>
						<div class="field">
							<label>Looks:</label>
							<input type="text" name="attr_looks" tabindex=5>
						</div>
					</div>
					<div class="info2">
						<div class="field">
							<label>Debt:</label>
							<input type="text" name="attr_debt" tabindex=6>
						</div>
						<div class="field">
							<label>Likes:</label>
							<input type="text" name="attr_likes" tabindex=7>
						</div>
						<div class="field">
							<label>Experience:</label>
							<input type="number"  name="attr_experience" tabindex=8>
						</div>
						<div class="field">
							<label>Invested:</label>
							<input type="number"  name="attr_invested" tabindex=9>
						</div>
						<div class="field">
							<label>Level:</label>
							<input type="number"  name="attr_level" tabindex=10>
						</div>
						<div class="field">
							<label>Magic cost:</label>
							<input type="number" name="attr_magiccost" tabindex=10>
						</div>
					</div>
				</div>
			</div>
			<div class="skills">
				<div class="field">
					<label class="labelh1">SKILLS</label>
				</div>
				<div class="field">
					<label for="attr_skill1">1.</label>
					<input type="text" name="attr_skill1">
					<input type="checkbox" class="showlearningtrack" name="attr_skill1learning">
					<div class="learningtrack">
						<input type="hidden" name="attr_skill1successes" class="learningsuccess" value="0" />
						<button type="action" name="act_skill1success1" class="learningsuccess">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill1success2" class="learningsuccess gt-1">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill1success4" class="learningsuccess gt-1 gt-2 gt-3">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill1success3" class="learningsuccess gt-1 gt-2">
							<span class="checked"></span>
						</button>
					</div>
				</div>
				<div class="field">
					<label for="attr_skill2">2.</label>
					<input type="text" name="attr_skill2">
					<input type="checkbox" class="showlearningtrack" name="attr_skill2learning">
					<div class="learningtrack">
						<input type="hidden" name="attr_skill2successes" class="learningsuccess" value="0" />
						<button type="action" name="act_skill2success1" class="learningsuccess">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill2success2" class="learningsuccess gt-1">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill2success4" class="learningsuccess gt-1 gt-2 gt-3">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill2success3" class="learningsuccess gt-1 gt-2">
							<span class="checked"></span>
						</button>
					</div>
				</div>
				<div class="field">
					<label for="attr_skill3">3.</label>
					<input type="text" name="attr_skill3">
					<input type="checkbox" class="showlearningtrack" name="attr_skill3learning">
					<div class="learningtrack">
						<input type="hidden" name="attr_skill3successes" class="learningsuccess" value="0" />
						<button type="action" name="act_skill3success1" class="learningsuccess">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill3success2" class="learningsuccess gt-1">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill3success4" class="learningsuccess gt-1 gt-2 gt-3">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill3success3" class="learningsuccess gt-1 gt-2">
							<span class="checked"></span>
						</button>
					</div>
				</div>
				<div class="field">
					<label for="attr_skill4">4.</label>
					<input type="text" name="attr_skill4">
					<input type="checkbox" class="showlearningtrack" name="attr_skill4learning">
					<div class="learningtrack">
						<input type="hidden" name="attr_skill4successes" class="learningsuccess" value="0" />
						<button type="action" name="act_skill4success1" class="learningsuccess">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill4success2" class="learningsuccess gt-1">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill4success4" class="learningsuccess gt-1 gt-2 gt-3">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill4success3" class="learningsuccess gt-1 gt-2">
							<span class="checked"></span>
						</button>
					</div>
				</div>
				<div class="field">
					<label for="attr_skill5">5.</label>
					<input type="text" name="attr_skill5">
					<input type="checkbox" class="showlearningtrack" name="attr_skill5learning">
					<div class="learningtrack">
						<input type="hidden" name="attr_skill5successes" class="learningsuccess" value="0" />
						<button type="action" name="act_skill5success1" class="learningsuccess">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill5success2" class="learningsuccess gt-1">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill5success4" class="learningsuccess gt-1 gt-2 gt-3">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill5success3" class="learningsuccess gt-1 gt-2">
							<span class="checked"></span>
						</button>
					</div>
				</div>
				<div class="field">
					<label for="attr_skill6">6.</label>
					<input type="text" name="attr_skill6">
					<input type="checkbox" class="showlearningtrack" name="attr_skill6learning">
					<div class="learningtrack">
						<input type="hidden" name="attr_skill6successes" class="learningsuccess" value="0" />
						<button type="action" name="act_skill6success1" class="learningsuccess">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill6success2" class="learningsuccess gt-1">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill6success4" class="learningsuccess gt-1 gt-2 gt-3">
							<span class="checked"></span>
						</button>
						<button type="action" name="act_skill6success3" class="learningsuccess gt-1 gt-2">
							<span class="checked"></span>
						</button>
					</div>
				</div>
			</div>
			<div class="abilities">
				<div class="field">
					<label class="labelh1">ABILITIES</label>
				</div>
				<div class="field">
					<label for="attr_ability1">1.</label>
					<input type="text" name="attr_ability1">
				</div>
				<div class="field">
					<label for="attr_ability2">2.</label>
					<input type="text" name="attr_ability2">
				</div>
				<div class="field">
					<label for="attr_ability3">3.</label>
					<input type="text" name="attr_ability3">
				</div>
				<div class="field">
					<label for="attr_ability4">4.</label>
					<input type="text" name="attr_ability4">
				</div>
				<div class="field">
					<label for="attr_ability5">5.</label>
					<input type="text" name="attr_ability5">
				</div>
				<div class="field">
					<label for="attr_ability6">6.</label>
					<input type="text" name="attr_ability6">
				</div>
			</div>
		</div>
		<div class="row2">
			<div class="statbox">
				<div class="stat">
					<div class="statfields">
						<div class="statleft">
							<input type="number" dir="rtl" name="attr_strength" value="0">
						</div>
						<span>OF</span>
						<div class="statright">
							<input type="number" name="attr_strength_max" value="0">
						</div>
					</div>
					<div class="statlabel">
						<button class="sheet-blankrollbutton" type="roll" value="@{strengthroll}" name="rollstrength">STR</button>
					</div>
				</div>
				<div class="stat">
					<div class="statfields">
						<div class="statleft">
							<input type="number" dir="rtl" name="attr_endurance" value="0">
						</div>
						<span>OF</span>
						<div class="statright">
							<input type="number" name="attr_endurance_max" value="0">
						</div>
					</div>
					<div class="statlabel">
						<button class="sheet-blankrollbutton" type="roll" value="@{enduranceroll}" name="rollendurance">END</button>
					</div>
				</div>
				<div class="stat">
					<div class="statfields">
						<div class="statleft">
							<input type="number" dir="rtl" name="attr_agility" value="0">
						</div>
						<span>OF</span>
						<div class="statright">
							<input type="number" name="attr_agility_max" value="0">
						</div>
					</div>
					<div class="statlabel">
						<button class="sheet-blankrollbutton" type="roll" value="@{agilityroll}" name="rollagility">AGI</button>
					</div>
				</div>
				<div class="stat statprof">
					<div class="statfieldsprof">
						<div class="statcenter">
							<input type="number" dir="rtl" name="attr_proficiency" value="0">
						</div>
					</div>
					<div class="statlabel">
						<button class="sheet-blankrollbutton proficiencybutton" type="roll" value="@{statroll}" name="rollproficiency">PRO</button>
					</div>				
				</div>
				<div class="stat">
					<div class="statfields">
						<div class="statleft">
							<input type="number" dir="rtl" name="attr_charisma" value="0">
						</div>
						<span>OF</span>
						<div class="statright">
							<input type="number" name="attr_charisma_max" value="0">
						</div>
					</div>
					<div class="statlabel">
						<button class="sheet-blankrollbutton" type="roll" value="@{charismaroll}" name="rollcharisma">CHA</button>
					</div>
				</div>
				<div class="stat">
					<div class="statfields">
						<div class="statleft">
							<input type="number" dir="rtl" name="attr_aura" value="0">
						</div>
						<span>OF</span>
						<div class="statright">
							<input type="number" name="attr_aura_max" value="0">
						</div>
					</div>
					<div class="statlabel">
						<button class="sheet-blankrollbutton" type="roll" value="@{auraroll}" name="rollaura">AUR</button>
					</div>
				</div>
				<div class="stat">
					<div class="statfields">
						<div class="statleft">
							<input type="number" dir="rtl" name="attr_thought" value="0">
						</div>
						<span>OF</span>
						<div class="statright">
							<input type="number" name="attr_thought_max" value="0">
						</div>
					</div>
					<div class="statlabel">
						<button class="sheet-blankrollbutton" type="roll" value="@{thoughtroll}" name="rollthought">THO</button>
					</div>
				</div>
			</div>
			<div class="sidebox">
				<div class="stat">
					<div class="statlabel">
						<div class="sheet-sideboxlabel">LIFE</div>
					</div>
					<div class="statfields">
							<input type="number" dir="rtl" name="attr_life" value="0">
							<span>OF</span>
							<input type="number" name="attr_life_max" value="0">
					</div>
				</div>
				<div class="stat">
					<div class="statlabel">
						<div class="sheet-sideboxlabel">HERO DICE</div>
					</div>
					<div class="statfields">
							<input type="number" dir="rtl" name="attr_herodice" value="0">
							<span>OF</span>
							<input type="number" name="attr_herodice_max" value="0">
					</div>
				</div>
			</div>
		</div>
		<div class="row3">
			<div class="gearbox">
				<div class="gear1">
					<div class="field">
						<label class="labelh1">GEAR</label>
					</div>
					<div class="field">
						<label for="gear1item1">1.</label>
						<input type="text" name="attr_gear1item1">
					</div>
					<div class="field">
						<label for="gear1item2">2.</label>
						<input type="text" name="attr_gear1item2">
					</div>
					<div class="field">
						<label for="gear1item3">3.</label>
						<input type="text" name="attr_gear1item3">
					</div>
					<div class="field">
						<label for="gear1item4">4.</label>
						<input type="text" name="attr_gear1item4">
					</div>
					<div class="field">
						<label for="gear1item5">5.</label>
						<input type="text" name="attr_gear1item5">
					</div>
					<div class="field">
						<label for="gear1item6">6.</label>
						<input type="text" name="attr_gear1item6">
					</div>
				</div>
				<div class="gear2">
					<div class="field">
						<label class="labelh1">CUMBERSOME GEAR</label>
					</div>
					<div class="field">
						<label for="gear2item1">1.</label>
						<input type="text" name="attr_gear2item1">
					</div>
					<div class="field">
						<label for="gear2item2">2.</label>
						<input type="text" name="attr_gear2item2">
					</div>
					<div class="field">
						<label for="gear2item3">3.</label>
						<input type="text" name="attr_gear2item3">
					</div>
					<div class="field">
						<label for="gear2item4">4.</label>
						<input type="text" name="attr_gear2item4">
					</div>
					<div class="field">
						<label for="gear2item5">5.</label>
						<input type="text" name="attr_gear2item5">
					</div>
					<div class="field">
						<label for="gear2item6">6.</label>
						<input type="text" name="attr_gear2item6">
					</div>
				</div>
			</div>
			<div class="hurtbox">
				<div class="field">
					<label class="labelh1">HURT:</label>
				</div>
				<div class="field">
					<input type="checkbox" name="attr_hurt1">
					<input type="text" name="attr_hurt1description" value="Fine">
				</div>
				<div class="field">
					<input type="checkbox" name="attr_hurt2">
					<input type="text" name="attr_hurt2description" value="Disadvantage [-]">
				</div>
				<div class="field">
					<input type="checkbox" name="attr_hurt3">
					<input type="text" name="attr_hurt3description" value="Slow, half movement">
				</div>
				<div class="field">
					<input type="checkbox" name="attr_hurt4">
					<input type="text" name="attr_hurt4description" value="Max Life halved">
				</div>
				<div class="field">
					<input type="checkbox" name="attr_hurt5">
					<input type="text" name="attr_hurt5description" value="Out of the scene">
				</div>
				<div class="field">
					<input type="checkbox" name="attr_hurt6">
					<input type="text" name="attr_hurt6description" value="Defeat, out of the game">
				</div>
			</div>
		</div>
		<div class="row4">
			<div class="row4left">
				<div class="attackmodes">
					<div class="mode1">
						<div class="field">
							<label class="labelh1">ATTACK MODES</label>
						</div>
						<div class="field">
								<label class="labelh2">Method:</label>
							<input type="text" name="attr_Method1">
						</div>
						<div class="field">
							<label for="Damage1">Damage:</label>
							<input type="text" name="attr_Damage1">
						</div>
						<div class="field">
							<label for="Range1">Range:</label>
							<input type="text" name="attr_Range1">
						</div>
						<div class="field">
							<label for="Tags1">Tags:</label>
							<input type="text" name="attr_Tags1">
						</div>
					</div>
					<div class="mode2">
						<div class="field">&nbsp;</div>
						<div class="field">
							<label class="labelh2">Method:</label>
							<input type="text" name="attr_Method2">
						</div>
						<div class="field">
							<label for="Damage1">Damage:</label>
							<input type="text" name="attr_Damage2">
						</div>
						<div class="field">
							<label for="Range1">Range:</label>
							<input type="text" name="attr_Range2">
						</div>
						<div class="field">
							<label for="Tags1">Tags:</label>
							<input type="text" name="attr_Tags2">
						</div>
					</div>
					<div class="mode3">
						<div class="field">&nbsp;</div>
						<div class="field">
							<label class="labelh2">Method:</label>
							<input type="text" name="attr_Method3">
						</div>
						<div class="field">
							<label for="Damage1">Damage:</label>
							<input type="text" name="attr_Damage3">
						</div>
						<div class="field">
							<label for="Range1">Range:</label>
							<input type="text" name="attr_Range3">
						</div>
						<div class="field">
							<label for="Tags1">Tags:</label>
							<input type="text" name="attr_Tags3">
						</div>
					</div>
				</div>
				<div class="petbox">
					<div class="petcolumn1">
						<div class="field">
							<label class="labelh1">SIDEKICK/PET</label>
						</div>
						<div class="field">
							<label>Name:</label>
							<input type="text" name="attr_PetName">
						</div>
						<div class="field">
							<label>Invested XP:</label>
							<input type="text" name="attr_PetInvestedXP">
						</div>
						<div class="field">
							<label>Level:</label>
							<input type="text" name="attr_PetLevel">
						</div>
					</div>
					<div class="petcolumn2">
						<div class="field">&nbsp;</div>
						<div class="field">
							<label>Defense:</label>
							<input type="text" name="attr_PetDefense">
						</div>
						<div class="field">
							<label>Sum:</label>
							<input type="text" name="attr_PetSum">
						</div>
						<div class="field">
							<label>Life:</label>
							<input type="text" name="attr_PetLife">
						</div>
					</div>
					<div class="petcolumn3">
						<div class="field">&nbsp;</div>
						<div class="field">
							<label for="PetAbility1">Ability:</label>
							<input type="text" name="attr_PetAbility1">
						</div>
						<div class="field">
							<label for="PetAbility2">Ability:</label>
							<input type="text" name="attr_PetAbility2">
						</div>	
						<div class="field">
							<label for="PetAbility3">Ability:</label>
							<input type="text" name="attr_PetAbility3">
						</div>	
					</div>
				</div>
			</div>
			<div class="row4right">
				<div class="sidebox">
					<div class="physicalcombat">
						<div class="field">
							<label class="labelh1">PHYSICAL COMBAT</label>
						</div>
						<div class="stat">
							<div class="statlabel">
								<div class="sheet-sideboxlabel">ARMOUR</div>
							</div>
							<div class="statfields">
								<input type="number" dir="rtl" name="attr_armour" value="0">
							</div>
						</div>
						<div class="stat">
							<div class="statlabel">
								<div class="sheet-sideboxlabel">DEFENSE</div>
							</div>
							<div class="statfields">
								<input type="number" dir="rtl" name="attr_defense" value="0">
							</div>
						</div>
						<!-- <div class="stat">
							<div class="statlabel">
								<button class="sheet-blankrollbutton sidebutton" type="roll" value="@{statroll}" name="rollrangeattack">RANGE ATTACK</button>
							</div>
							<div class="statfields">
								<input type="number" dir="rtl" name="attr_rangeattack" value="0">
							</div>
						</div>
						<div class="stat">
							<div class="statlabel">
								<button class="sheet-blankrollbutton sidebutton" type="roll" value="@{statroll}" name="rollmeleeattack">MELEE ATTACK</button>
							</div>
							<div class="statfields">
								<input type="number" dir="rtl" name="attr_meleeattack" value="0">
							</div>
						</div> -->
					</div>
					<div class="metaphysicalcombat">
						<div class="field">
							<label class="labelh1">METAPHYSICAL COMBAT</label>
						</div>
						<div class="stat">
							<div class="statlabel">
								<div class="sheet-sideboxlabel">PSYCHIC ARMOUR</div>
							</div>
							<div class="statfields">
								<input type="number" dir="rtl" name="attr_psychicarmour" value="0">
							</div>
						</div>
						<div class="stat">
							<div class="statlabel">
								<div class="sheet-sideboxlabel">WARDING</div>
							</div>
							<div class="statfields">
								<input type="number" dir="rtl" name="attr_warding" value="0">
							</div>
						</div>
						<!-- <div class="stat">
							<div class="statlabel">
								<button class="sheet-blankrollbutton sidebutton" type="roll" value="@{statroll}" name="rollmagicattack">MAGIC ATTACK</button>
							</div>
							<div class="statfields">
								<input type="number" dir="rtl" name="attr_magicattack" value="0">
							</div>
						</div>
						<div class="stat">
							<div class="statlabel">
								<button class="sheet-blankrollbutton sidebutton" type="roll" value="@{statroll}" name="rollsocialcattack">SOCIAL ATTACK</button>
							</div>
							<div class="statfields">
								<input type="number" dir="rtl" name="attr_socialattack" value="0">
							</div>
						</div> -->
					</div>
				</div>
			</div>
		</div>
		<div class="row6">
			<div class="field">
				<div class="heading">
					<label class="labelh1">OTHER THINGS</label>
				</div>
			</div>
		</div>
		<div class="row7">
			<div class="notes">
				<div class="notes1">
					<textarea name="attr_notes1"></textarea>
				</div>
				<div class="notes2">
					<textarea name="attr_notes2"></textarea>
				</div>
				<div class="notes3">
					<textarea name="attr_notes3"></textarea>
				</div>
				<div class="notes4">
					<textarea name="attr_notes4"></textarea>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="caravansheet">
	<div class="caravangridcontainer">
		<div class="caravanrow1">
			<div class="caravanleftcol">
				<div class="caravaninfobox">
					<div class="field">
						<label class="labelh1">CARAVAN</label>
					</div>
					<div class="field">
						<label>Company Name:</label>
						<input type="text" name="attr_character_name" tabindex=1>
					</div>
					<div class="field">
						<label>This Caravan:</label>
						<input type="text" name="attr_thiscaravan" tabindex=1>
					</div>
					<div class="field">
						<label>Financier:</label>
						<input type="text" name="attr_caravanfinancier" tabindex=1>
					</div>
					<div class="field">
						<label>Debt (Due):</label>
						<input type="text" name="attr_caravandebt" tabindex=1>
						(<input type="text" name="attr_caravandebtdue" tabindex=1>)
					</div>
				</div>
				<div class="caravanmoney">
					<div class="field">
						<label class="labelh1">MONEY</label>
					</div>
					<div class="field">
						<label>Ready Cash:</label>
						<input type="text" name="attr_caravancash" tabindex=1>
					</div>
					<div class="field">
						<label>Wages:</label>
						<input type="text" name="attr_caravanwages" tabindex=1>
					</div>
					<div class="field">
						<label>Supplies cost:</label>
						<input type="text" name="attr_caravansuppliescost" tabindex=1>
					</div>
					<div class="field">
						<label>Fuel cost:</label>
						<input type="text" name="attr_caravanfuelcost" tabindex=1>
					</div>
				</div>
				<div class="caravanassets">
					<div class="field">
						<label class="labelh1">ASSETS</label>
					</div>
					<div class="caravanassetheadings">
						<label class="labelh2">Name</label>
						<label class="labelh2">Capital</label>
						<label class="labelh2">Risk</label>
					</div>
					<fieldset class="repeating_caravanassets">
						<div class="caravanasset">
							<input type="text" name="attr_caravanassetname">
							<input type="text" name="attr_caravanassetcapital">
							<input type="text" name="attr_caravanassetrisk">
						</div>
					</fieldset>
				</div>
			</div>
			<div class="caravanmidcol">
				<div class="caravanheroes">
					<div class="field">
						<label class="labelh1">HEROES</label>
					</div>
					<div class="caravanheroheadings">
						<label class="labelh2">Name</label>
						<label class="labelh2">Level</label>
						<label class="labelh2">Role</label>
					</div>
					<fieldset class="repeating_caravanheroes">
						<div class="caravanhero">
							<input type="text" name="attr_caravanheroname">
							<input type="text" name="attr_caravanherolevel">
							<input type="text" name="attr_caravanherorole">
						</div>
					</fieldset>
				</div>
				<div class="caravanhelpers">
					<div class="field">
						<label class="labelh1">HELPERS</label>
					</div>
					<div class="caravanhelperheadings">
						<label class="labelh2">Name</label>
						<label class="labelh2">Level</label>
						<label class="labelh2">Bonus</label>
						<label class="labelh2">Skill</label>
					</div>
					<fieldset class="repeating_caravanhelpers">
						<div class="caravanhelper">
							<input type="text" name="attr_caravanhelpername">
							<input type="text" name="attr_caravanhelperlevel">
							<input type="text" name="attr_caravanhelperbonus">
							<input type="text" name="attr_caravanhelperskill">
						</div>
					</fieldset>
				</div>
				<div class="caravansize">
					<div class="field">
						<label class="labelh1">SIZE:</label>
						<input type="text" name="attr_caravansize" tabindex=1>
					</div>
					<div class="field">
						<label>Mouths:</label>
						<input type="text" name="attr_caravanmouthcount" tabindex=1>
					</div>
					<div class="field">
						<label>Mounts:</label>
						<input type="text" name="attr_caravanmountcount" tabindex=1>
					</div>
					<div class="field">
						<label>Motors:</label>
						<input type="text" name="attr_caravanmotorcount" tabindex=1>
					</div>
					<div class="field">
						<label>Magicals:</label>
						<input type="text" name="attr_caravanmagicalcount" tabindex=1>
					</div>
				</div>
			</div>
			<div class="caravanrightcol">
				<div class="caravanpower">
					<div class="field">
						<label class="labelh1">POWER:</label>
						<input type="text" name="attr_caravanpower_max" tabindex=1>
					</div>
					<div class="field">
						<label>Remaining:</label>
						<input type="text" name="attr_caravanpower" tabindex=1>
					</div>
				</div>
				<div class="caravanspeed">
					<div class="field">
						<label class="labelh1">SPEED:</label>
						<input type="text" name="attr_caravanspeed" tabindex=1>
					</div>
					<div class="caravantagheadings">
						<label class="labelh2">Slow Tags</label>
						<label class="labelh2">Fast Tags</label>
					</div>
					<div class="caravantags">
						<div class="caravanslowtags">
							<fieldset class="repeating_caravanslowtag">
								<div class="caravanslowtag">
									<input type="text" name="attr_caravanslowtags">
								</div>
							</fieldset>
						</div>
						<div class="caravanfasttags">
							<fieldset class="repeating_caravanfasttags">
								<div class="caravanfasttag">
									<input type="text" name="attr_caravanfasttag">
								</div>
							</fieldset>
						</div>
					</div>
				</div>
				<div class="caravantime">
					<div class="field">
						<label class="labelh1">TIME</label>
					</div>
					<div class="field">
						<label>Day Tally:</label>
						<input type="text" name="attr_caravandaytally" tabindex=1>
					</div>
					<div class="field">
						<label>Weeks:</label>
						<input type="text" name="attr_caravanweeks" tabindex=1>
					</div>
					<div class="field">
						<label>Season:</label>
						<input type="text" name="attr_caravanseason" tabindex=1>
					</div>
					<div class="field">
						<label>Year of the:</label>
						<input type="text" name="attr_caravanyearofthe" tabindex=1>
					</div>
					<div class="field">
						<label>Years elapsed:</label>
						<input type="text" name="attr_caravanyearselapsed" tabindex=1>
					</div>
				</div>
			</div>
		</div>
		<div class="caravanrow2">
			<div class="field">
				<label class="labelh1">MOUNTS, MOTORS, PORTERS</label>
			</div>
			<div class="caravanmounts">
				<div class="carvanmountscol1">
					<fieldset class="repeating_caravanmountsleft">
						<div class="caravanmount">
							<div class="field">
								<label>Name:</label>
								<input type="text" name="attr_caravanmountleftname" tabindex=1>
							</div>
							<div class="field">
								<label>Level:</label>
								<input type="text" name="attr_caravanmountleftlevel" tabindex=1>
							</div>
							<div class="field">
								<label>Tags:</label>
								<input type="text" name="attr_caravanmountlefttags" tabindex=1>
							</div>
							<div class="field">
								<label>Total cost/week:</label>
								<input type="text" name="attr_caravanmountleftcost" tabindex=1>
							</div>
							<div class="field">
								<label>Value:</label>
								<input type="text" name="attr_caravanmountleftvalue" tabindex=1>
							</div>
							<div class="field">
								<label>Number:</label>
								<input type="text" name="attr_caravanmountleftnumber" tabindex=1>
							</div>
							<div class="field">
								<label>Capacity (sacks):</label>
								<input type="text" name="attr_caravanmountleftcapacity" tabindex=1>
							</div>
							<div class="field">
								<label>Cargo:</label>
								<input type="textarea" name="attr_caravanmountleftcargo" tabindex=1>
							</div>
						</div>
					</fieldset>
				</div>
				<div class="carvanmountscol2">
					<fieldset class="repeating_caravanmountsright">
						<div class="caravanmount">
							<div class="field">
								<label>Name:</label>
								<input type="text" name="attr_caravanmountrightname" tabindex=1>
							</div>
							<div class="field">
								<label>Level:</label>
								<input type="text" name="attr_caravanmountrightlevel" tabindex=1>
							</div>
							<div class="field">
								<label>Tags:</label>
								<input type="text" name="attr_caravanmountrighttags" tabindex=1>
							</div>
							<div class="field">
								<label>Total cost/week:</label>
								<input type="text" name="attr_caravanmountrightcost" tabindex=1>
							</div>
							<div class="field">
								<label>Value:</label>
								<input type="text" name="attr_caravanmountrightvalue" tabindex=1>
							</div>
							<div class="field">
								<label>Number:</label>
								<input type="text" name="attr_caravanmountrightnumber" tabindex=1>
							</div>
							<div class="field">
								<label>Capacity (sacks):</label>
								<input type="text" name="attr_caravanmountrightcapacity" tabindex=1>
							</div>
							<div class="field">
								<label>Cargo:</label>
								<input type="textarea" name="attr_caravanmountrightcargo" tabindex=1>
							</div>
						</div>
					</fieldset>
				</div>
			</div>
		</div>
		<div class="caravanrow3">
			<div class="field">
				<label class="labelh1">NOTES</label>
			</div>
			<div class="caravannotes">
				<div class="caravannotes1">
					<textarea name="attr_caravannotes1"></textarea>
				</div>
				<div class="caravannotes2">
					<textarea name="attr_caravannotes2"></textarea>
				</div>
				<div class="caravannotes3">
					<textarea name="attr_caravannotes3"></textarea>
				</div>
			</div>
		</div>
	</div>
</div>

<div>
    <button type="action" name="act_hero">HERO</button>
    <button type="action" name="act_caravan">CARAVAN</button>
</div>

<!-- Macros -->
<div>
	<input type="hidden" name="attr_statroll" value="&{template:seacat} {{name=D20 Stat Roll}} {{stat=[[@{statquery}]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{proficiency=[[@{proficiency}]]}} {{strengthstat=[[@{strength}]]}} {{endurancestat=[[@{endurance}]]}} {{agilitystat=[[@{agility}]]}} {{charismastat=[[@{charisma}]]}} {{aurastat=[[@{aura}]]}} {{thoughtstat=[[@{thought}]]}} {{strbane=[[2d20kl1]]}} {{str=[[(@{advantagequery})d20kh1]]}} {{strprofbane=[[2d20kl1+@{ranksquery}*@{proficiency}]]}} {{strprof=[[(@{advantagequery}+1)d20kh1+@{ranksquery}*@{proficiency}]]}} {{endbane=[[2d20kl1]]}} {{end=[[(@{advantagequery})d20kh1]]}} {{endprofbane=[[2d20kl1+@{ranksquery}*@{proficiency}]]}} {{endprof=[[(@{advantagequery}+1)d20kh1+@{ranksquery}*@{proficiency}]]}} {{agibane=[[2d20kl1]]}} {{agi=[[(@{advantagequery})d20kh1]]}} {{agiprofbane=[[2d20kl1+@{ranksquery}*@{proficiency}]]}} {{agiprof=[[(@{advantagequery}+1)d20kh1+@{ranksquery}*@{proficiency}]]}} {{chabane=[[2d20kl1]]}} {{cha=[[(@{advantagequery})d20kh1]]}} {{chaprofbane=[[2d20kl1+@{ranksquery}*@{proficiency}]]}} {{chaprof=[[(@{advantagequery}+1)d20kh1+@{ranksquery}*@{proficiency}]]}} {{aurbane=[[2d20kl1]]}} {{aur=[[(@{advantagequery})d20kh1]]}} {{aurprofbane=[[2d20kl1+@{ranksquery}*@{proficiency}]]}} {{aurprof=[[(@{advantagequery}+1)d20kh1+@{ranksquery}*@{proficiency}]]}} {{thobane=[[2d20kl1]]}} {{tho=[[(@{advantagequery})d20kh1]]}} {{thoprofbane=[[2d20kl1+@{ranksquery}*@{proficiency}]]}} {{thoprof=[[(@{advantagequery}+1)d20kh1+@{ranksquery}*@{proficiency}]]}}">

	<input type="hidden" name="attr_strengthroll" value="&{template:seacat} {{name=D20 Strength Roll}} {{stat=[[100]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{proficiency=[[@{proficiency}]]}} {{strengthstat=[[@{strength}]]}} {{strbane=[[2d20kl1+@{strength}]]}} {{str=[[(@{advantagequery})d20kh1+@{strength}]]}} {{strprofbane=[[2d20kl1+@{strength}+(@{ranksquery}*@{proficiency})]]}} {{strprof=[[(@{advantagequery}+1)d20kh1+@{strength}+(@{ranksquery}*@{proficiency})]]}}">

	<input type="hidden" name="attr_enduranceroll" value="&{template:seacat} {{name=D20 Endurance Roll}} {{stat=[[200]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{proficiency=[[@{proficiency}]]}} {{endurancestat=[[@{endurance}]]}} {{endbane=[[2d20kl1+@{endurance}]]}} {{end=[[(@{advantagequery})d20kh1+@{endurance}]]}} {{endprofbane=[[2d20kl1+@{endurance}+(@{ranksquery}*@{proficiency})]]}} {{endprof=[[(@{advantagequery}+1)d20kh1+@{endurance}+(@{ranksquery}*@{proficiency})]]}}">

	<input type="hidden" name="attr_agilityroll" value="&{template:seacat} {{name=D20 Agility Roll}} {{stat=[[300]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{proficiency=[[@{proficiency}]]}} {{agilitystat=[[@{agility}]]}} {{agibane=[[2d20kl1+@{agility}]]}} {{agi=[[(@{advantagequery})d20kh1+@{agility}]]}} {{agiprofbane=[[2d20kl1+@{agility}+(@{ranksquery}*@{proficiency})]]}} {{agiprof=[[(@{advantagequery}+1)d20kh1+@{agility}+(@{ranksquery}*@{proficiency})]]}}">

	<input type="hidden" name="attr_charismaroll" value="&{template:seacat} {{name=D20 Charisma Roll}} {{stat=[[400]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{proficiency=[[@{proficiency}]]}} {{charismastat=[[@{charisma}]]}} {{chabane=[[2d20kl1+@{charisma}]]}} {{cha=[[(@{advantagequery})d20kh1+@{charisma}]]}} {{chaprofbane=[[2d20kl1+@{charisma}+(@{ranksquery}*@{proficiency})]]}} {{chaprof=[[(@{advantagequery}+1)d20kh1+@{charisma}+(@{ranksquery}*@{proficiency})]]}}">

	<input type="hidden" name="attr_auraroll" value="&{template:seacat} {{name=D20 Aura Roll}} {{stat=[[500]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{proficiency=[[@{proficiency}]]}} {{aurastat=[[@{aura}]]}} {{aurbane=[[2d20kl1+@{aura}]]}} {{aur=[[(@{advantagequery})d20kh1+@{aura}]]}} {{aurprofbane=[[2d20kl1+@{aura}+(@{ranksquery}*@{proficiency})]]}} {{aurprof=[[(@{advantagequery}+1)d20kh1+@{aura}+(@{ranksquery}*@{proficiency})]]}}">

	<input type="hidden" name="attr_thoughtroll" value="&{template:seacat} {{name=D20 Thought Roll}} {{stat=[[600]]}} {{ranks=[[@{ranksquery}]]}} {{advantage=[[@{advantagequery}]]}} {{thoughtstat=[[@{thought}]]}} {{thobane=[[2d20kl1+@{thought}]]}} {{tho=[[(@{advantagequery})d20kh1+@{thought}]]}} {{thoprofbane=[[2d20kl1+@{thought}+(@{ranksquery}*@{proficiency})]]}} {{thoprof=[[(@{advantagequery}+1)d20kh1+@{thought}+(@{ranksquery}*@{proficiency})]]}}">

	<input type="hidden" name="attr_statquery" value="?{Stat|Strength,100|Endurance,200|Agility,300|Charisma,400|Aura,500|Thought,600}">
	<input type="hidden" name="attr_advantagequery" value="?{Advantages|0|1|2|3|4|5|6|7|-1}">
	<input type="hidden" name="attr_ranksquery" value="?{Skill ranks|Unskilled (0),-1|Skilled (1),1|Expert (2+),2}">
</div>

<!-- Roll Templates -->
<rolltemplate class="sheet-rolltemplate-seacat">
	<div class="sheet-rolltemplate-seacat-container">
		<div class="sheet-rolltemplate-seacat-left">
			{{#rollTotal() stat 100}}
				<div class="sheet-rolltemplate-seacat-result">
					{{#rollLess() ranks 0}}
						{{#rollLess() advantage 1}}
							{{strbane}}
						{{/rollLess() advantage 1}}
						{{#^rollLess() advantage 1}}
							{{str}}
						{{/^rollLess() advantage 1}}
					{{/rollLess() ranks 0}}
					{{#rollGreater() ranks 0}}
						{{#rollLess() advantage 0}}
							{{strprofbane}}
						{{/rollLess() advantage 0}}
						{{#^rollLess() advantage 0}}
							{{strprof}}
						{{/^rollLess() advantage 0}}
					{{/rollGreater() ranks 0}}
				</div>
			{{/rollTotal() stat 100}}
			{{#rollTotal() stat 200}}
				<div class="sheet-rolltemplate-seacat-result">
					{{#rollLess() ranks 0}}
						{{#rollLess() advantage 1}}
							{{endbane}}
						{{/rollLess() advantage 1}}
						{{#^rollLess() advantage 1}}
							{{end}}
						{{/^rollLess() advantage 1}}
					{{/rollLess() ranks 0}}
					{{#rollGreater() ranks 0}}
						{{#rollLess() advantage 0}}
							{{endprofbane}}
						{{/rollLess() advantage 0}}
						{{#^rollLess() advantage 0}}
							{{endprof}}
						{{/^rollLess() advantage 0}}
					{{/rollGreater() ranks 0}}
				</div>
			{{/rollTotal() stat 200}}
			{{#rollTotal() stat 300}}
				<div class="sheet-rolltemplate-seacat-result">
					{{#rollLess() ranks 0}}
						{{#rollLess() advantage 1}}
							{{agibane}}
						{{/rollLess() advantage 1}}
						{{#^rollLess() advantage 1}}
							{{agi}}
						{{/^rollLess() advantage 1}}
					{{/rollLess() ranks 0}}
					{{#rollGreater() ranks 0}}
						{{#rollLess() advantage 0}}
							{{agiprofbane}}
						{{/rollLess() advantage 0}}
						{{#^rollLess() advantage 0}}
							{{agiprof}}
						{{/^rollLess() advantage 0}}
					{{/rollGreater() ranks 0}}
				</div>
			{{/rollTotal() stat 300}}
			{{#rollTotal() stat 400}}
				<div class="sheet-rolltemplate-seacat-result">
					{{#rollLess() ranks 0}}
						{{#rollLess() advantage 1}}
							{{chabane}}
						{{/rollLess() advantage 1}}
						{{#^rollLess() advantage 1}}
							{{cha}}
						{{/^rollLess() advantage 1}}
					{{/rollLess() ranks 0}}
					{{#rollGreater() ranks 0}}
						{{#rollLess() advantage 0}}
							{{chaprofbane}}
						{{/rollLess() advantage 0}}
						{{#^rollLess() advantage 0}}
							{{chaprof}}
						{{/^rollLess() advantage 0}}
					{{/rollGreater() ranks 0}}
				</div>
			{{/rollTotal() stat 400}}
			{{#rollTotal() stat 500}}
				<div class="sheet-rolltemplate-seacat-result">
					{{#rollLess() ranks 0}}
						{{#rollLess() advantage 1}}
							{{aurbane}}
						{{/rollLess() advantage 1}}
						{{#^rollLess() advantage 1}}
							{{aur}}
						{{/^rollLess() advantage 1}}
					{{/rollLess() ranks 0}}
					{{#rollGreater() ranks 0}}
						{{#rollLess() advantage 0}}
							{{aurprofbane}}
						{{/rollLess() advantage 0}}
						{{#^rollLess() advantage 0}}
							{{aurprof}}
						{{/^rollLess() advantage 0}}
					{{/rollGreater() ranks 0}}			
				</div>
			{{/rollTotal() stat 500}}
			{{#rollTotal() stat 600}}
				<div class="sheet-rolltemplate-seacat-result">
					{{#rollLess() ranks 0}}
						{{#rollLess() advantage 1}}
							{{thobane}}
						{{/rollLess() advantage 1}}
						{{#^rollLess() advantage 1}}
							{{tho}}
						{{/^rollLess() advantage 1}}
					{{/rollLess() ranks 0}}
					{{#rollGreater() ranks 0}}
						{{#rollLess() advantage 0}}
							{{thoprofbane}}
						{{/rollLess() advantage 0}}
						{{#^rollLess() advantage 0}}
							{{thoprof}}
						{{/^rollLess() advantage 0}}
					{{/rollGreater() ranks 0}}			
				</div>
			{{/rollTotal() stat 600}}
		</div>
		<div class="sheet-rolltemplate-seacat-right">
			{{#rollTotal() stat 100}}
				<div class="sheet-rolltemplate-seacat-details">Strength: {{strengthstat}}</div>
			{{/rollTotal() stat 100}}
			{{#rollTotal() stat 200}}
				<div class="sheet-rolltemplate-seacat-details">Endurance: {{endurancestat}}</div>
			{{/rollTotal() stat 200}}
			{{#rollTotal() stat 300}}
				<div class="sheet-rolltemplate-seacat-details">Agility: {{agilitystat}}</div>
			{{/rollTotal() stat 300}}
			{{#rollTotal() stat 400}}
				<div class="sheet-rolltemplate-seacat-details">Charisma: {{charismastat}}</div>
			{{/rollTotal() stat 400}}
			{{#rollTotal() stat 500}}
				<div class="sheet-rolltemplate-seacat-details">Aura: {{aurastat}}</div>
			{{/rollTotal() stat 500}}
			{{#rollTotal() stat 600}}
				<div class="sheet-rolltemplate-seacat-details">Thought: {{thoughtstat}}</div>
			{{/rollTotal() stat 600}}
			{{#rollLess() ranks 0}}
				<div class="sheet-rolltemplate-seacat-details">Skill level: Unskilled</div>
			{{/rollLess() ranks 0}}
			{{#rollTotal() ranks 1}}
				<div class="sheet-rolltemplate-seacat-details">Skill level: Skilled</div>
				<div class="sheet-rolltemplate-seacat-details">Proficiency: {{proficiency}}</div>				
			{{/rollTotal() ranks 1}}
			{{#rollTotal() ranks 2}}
				<div class="sheet-rolltemplate-seacat-details">Skill level: Expert</div>	
				<div class="sheet-rolltemplate-seacat-details">Proficiency: {{proficiency}}</div>		
			{{/rollTotal() ranks 2}}
			{{#rollLess() ranks 0}}
				{{#rollLess() advantage 1}}
					<div class="sheet-rolltemplate-seacat-details">Disadvantage [-]</div>
				{{/rollLess() advantage 1}}
				{{#rollTotal() advantage 2}}
					<div class="sheet-rolltemplate-seacat-details">Advantage [+]</div>
				{{/rollTotal() advantage 2}}
				{{#rollTotal() advantage 3}}
					<div class="sheet-rolltemplate-seacat-details">Advantage [++]</div>
				{{/rollTotal() advantage 3}}
				{{#rollTotal() advantage 4}}
					<div class="sheet-rolltemplate-seacat-details">Advantage [+++]</div>
				{{/rollTotal() advantage 4}}
				{{#rollTotal() advantage 5}}
					<div class="sheet-rolltemplate-seacat-details">Advantage [++++]</div>
				{{/rollTotal() advantage 5}}
				{{#rollTotal() advantage 6}}
					<div class="sheet-rolltemplate-seacat-details">Advantage [+++++]</div>
				{{/rollTotal() advantage 6}}
				{{#rollTotal() advantage 7}}
					<div class="sheet-rolltemplate-seacat-details">Advantage [++++++]</div>
				{{/rollTotal() advantage 7}}
			{{/rollLess() ranks 0}}
			{{#^rollLess() ranks 0}}
				{{#rollLess() advantage 0}}
					<div class="sheet-rolltemplate-seacat-details">Disadvantage [-]</div>
				{{/rollLess() advantage 0}}
				{{#rollTotal() advantage 1}}
				<div class="sheet-rolltemplate-seacat-details">Advantage [+]</div>
			{{/rollTotal() advantage 1}}
			{{#rollTotal() advantage 2}}
				<div class="sheet-rolltemplate-seacat-details">Advantage [++]</div>
			{{/rollTotal() advantage 2}}
			{{#rollTotal() advantage 3}}
				<div class="sheet-rolltemplate-seacat-details">Advantage [+++]</div>
			{{/rollTotal() advantage 3}}
			{{#rollTotal() advantage 4}}
				<div class="sheet-rolltemplate-seacat-details">Advantage [++++]</div>
			{{/rollTotal() advantage 4}}
			{{#rollTotal() advantage 5}}
				<div class="sheet-rolltemplate-seacat-details">Advantage [+++++]</div>
			{{/rollTotal() advantage 5}}
			{{#rollTotal() advantage 5}}
				<div class="sheet-rolltemplate-seacat-details">Advantage [++++++]</div>
			{{/rollTotal() advantage 5}}
			{{#rollTotal() advantage 7}}
				<div class="sheet-rolltemplate-seacat-details">Advantage [+++++++]</div>
			{{/rollTotal() advantage 7}}
			{{/^rollLess() ranks 0}}
		</div>
	</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-seacat2">
	<div class="sheet-rolltemplate-seacat-container">
		<div class="sheet-rolltemplate-seacat-left">
				<div class="sheet-rolltemplate-seacat-result">11</div>
		</div>
		<div class="sheet-rolltemplate-seacat-right">
				<div class="sheet-rolltemplate-seacat-details"><b>Strength: </b>1</div>
			<div class="sheet-rolltemplate-seacat-details">Proficiency: 2</div>
			<div class="sheet-rolltemplate-seacat-details">Skill level: Unskilled</div>
			<div class="sheet-rolltemplate-seacat-details">Advantages: 1</div>
		</div>
	</div>

</rolltemplate>

<!-- Sheet Workers -->
<script type="text/worker">

	const skillNumbers = ["1","2","3","4","5","6"];
	const learningSuccesses = ["1","2","3","4"];

	skillNumbers.forEach(function(skillNumber) {
		on("change:skill" + skillNumber + " sheet:opened", function() {  
		    getAttrs(["skill" + skillNumber], function(skill) {
				skilltext = skill[Object.keys(skill)[0]]
			    if (skilltext.includes("*")) {
			    	setObj = {};
			    	setObj["skill" + skillNumber + "learning"]="on";
				    setAttrs(setObj)
			    } else {
			    	setObj = {};
				    setObj["skill" + skillNumber + "learning"]="0";
					setObj["skill" + skillNumber + "successes"]=0
				    setAttrs(setObj)
		    	};
		    });
        });
    });

	skillNumbers.forEach(function(skillNumber) {
		learningSuccesses.forEach(function(successCount) {
			on("clicked:skill" + skillNumber + "success" + successCount, function() {
				setObj = {};
				setObj["skill" + skillNumber + "successes"]=successCount;
				setAttrs(setObj)
			});
		});
	});

	on("change:armour change:agility sheet:opened", function() {  
		getAttrs(["armour","agility"], function(values) {
		  let armour = parseInt(values.armour)||0;
		  let agility = parseInt(values.agility)||0;
		  let defense = 10 + armour + agility;
		  setAttrs({                            
			"defense": defense
		  });
		});
	  });

	on("change:psychicarmour change:thought sheet:opened", function() {  
	getAttrs(["psychicarmour","thought"], function(values) {
		let psychicarmour = parseInt(values.psychicarmour)||0;
		let thought = parseInt(values.thought)||0;
		let warding = 10 + psychicarmour + thought;
		setAttrs({                            
		"warding": warding
		});
	});
	});

	const buttonlist = ["hero","caravan"];
   	buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        });
    });

</script>